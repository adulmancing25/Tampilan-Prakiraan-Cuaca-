<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prakiraan Cuaca Indonesia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Prakiraan Cuaca di Indonesia</h1>
            <p>Pantau cuaca di seluruh Indonesia dengan cepat dan mudah</p>
        </div>
        
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Cari kota di Indonesia..." autocomplete="off">
                <button id="searchButton">Cari</button>
            </div>
            <div class="search-results" id="searchResults">
                <ul id="resultsList"></ul>
            </div>
        </div>
        
        <div class="current-weather">
            <div class="weather-icon" id="currentIcon">‚òÄÔ∏è</div>
            <div class="weather-info">
                <div class="location">
                    <div class="location-icon">üìç</div>
                    <h2 id="cityName">Jakarta</h2>
                </div>
                <div class="temperature" id="currentTemp">32¬∞C</div>
                <div class="description" id="currentDesc">Cerah</div>
                <div class="details">
                    <div class="detail-item">
                        <div class="detail-icon">üíß</div>
                        <div class="detail-label">Kelembaban</div>
                        <div class="detail-value" id="humidity">70%</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-icon">üí®</div>
                        <div class="detail-label">Angin</div>
                        <div class="detail-value" id="wind">5 km/jam</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-icon">üå°Ô∏è</div>
                        <div class="detail-label">Tekanan</div>
                        <div class="detail-value" id="pressure">1012 hPa</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-icon">‚òÄÔ∏è</div>
                        <div class="detail-label">UV Index</div>
                        <div class="detail-value" id="uvIndex">8/10</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="forecast-heading">
            <h2>Prakiraan 7 Hari Ke Depan</h2>
        </div>
        
        <div class="forecast" id="forecastContainer">
            <!-- Forecast items will be generated by JavaScript -->
        </div>
        
        <div class="footer">
            <p id="lastUpdated">Terakhir diperbarui: 22 April 2025, 12:00 WIB</p>
            <p>¬© 2025 Prakiraan Cuaca di Indonesia ‚Ä¢ Data cuaca bersifat simulasi</p>
            <p>Dibuat oleh Rafly Ardiansyah</p>
        </div>
    </div>

    <script>
        // Database kota-kota di Indonesia
        const indonesianCities = [
            "Ambon", "Balikpapan", "Banda Aceh", "Bandar Lampung", "Bandung", "Banjarmasin", 
            "Banyuwangi", "Batam", "Bau-Bau", "Bekasi", "Bengkulu", "Bima", "Binjai", "Bitung", 
            "Blitar", "Bogor", "Bontang", "Bukittinggi", "Cilegon", "Cimahi", "Cirebon", 
            "Denpasar", "Depok", "Dumai", "Gorontalo", "Jakarta", "Jambi", "Jayapura", "Jember", 
            "Kediri", "Kendari", "Kupang", "Lhokseumawe", "Madiun", "Magelang", "Makassar", 
            "Malang", "Manado", "Mataram", "Medan", "Mojokerto", "Padang", "Padang Panjang", 
            "Padang Sidempuan", "Pagar Alam", "Palangkaraya", "Palembang", "Palopo", "Palu", 
            "Pangkal Pinang", "Parepare", "Pariaman", "Pasuruan", "Payakumbuh", "Pekalongan", 
            "Pekanbaru", "Pematangsiantar", "Pontianak", "Prabumulih", "Probolinggo", "Sabang", 
            "Salatiga", "Samarinda", "Sawahlunto", "Semarang", "Serang", "Singkawang", "Solok", 
            "Sorong", "Subulussalam", "Sukabumi", "Sungai Penuh", "Surabaya", "Surakarta (Solo)", 
            "Tangerang", "Tangerang Selatan", "Tanjung Pinang", "Tanjung Selor", "Tarakan", 
            "Tasikmalaya", "Tebingtinggi", "Tegal", "Ternate", "Tidore", "Tomohon", "Tual", 
            "Yogyakarta"
        ];

        // Sampel data cuaca untuk simulasi
        const weatherData = {
            icons: ["‚òÄÔ∏è", "‚õÖ", "‚òÅÔ∏è", "üåßÔ∏è", "‚õàÔ∏è", "üå•Ô∏è", "üå§Ô∏è", "üå¶Ô∏è"],
            descriptions: ["Cerah", "Berawan Sebagian", "Berawan", "Hujan", "Badai Petir", "Berawan Tebal", "Cerah Berawan", "Hujan Ringan"],
            tempRanges: {
                hot: { min: 30, max: 36 },
                warm: { min: 26, max: 32 },
                cool: { min: 20, max: 28 },
                cold: { min: 15, max: 22 }
            }
        };

        // Fungsi untuk mencari kota
        function searchCity() {
            const input = document.getElementById('searchInput');
            const searchTerm = input.value.trim().toLowerCase();
            const resultsList = document.getElementById('resultsList');
            const searchResults = document.getElementById('searchResults');
            
            resultsList.innerHTML = '';
            
            if (searchTerm.length < 2) {
                searchResults.style.display = 'none';
                return;
            }
            
            const matches = indonesianCities.filter(city => 
                city.toLowerCase().includes(searchTerm)
            );
            
            if (matches.length > 0) {
                matches.forEach(city => {
                    const li = document.createElement('li');
                    li.textContent = city;
                    li.onclick = function() {
                        updateWeather(city);
                        input.value = city;
                        searchResults.style.display = 'none';
                    };
                    resultsList.appendChild(li);
                });
                searchResults.style.display = 'block';
            } else {
                const li = document.createElement('li');
                li.textContent = 'Tidak ada hasil ditemukan';
                resultsList.appendChild(li);
                searchResults.style.display = 'block';
            }
        }

        // Fungsi untuk menangani klik pada tombol cari
        function handleSearchButtonClick() {
            const input = document.getElementById('searchInput');
            const city = input.value.trim();
            
            if (city.length > 0) {
                // Cek apakah kota ada dalam daftar
                const cityFound = indonesianCities.find(c => 
                    c.toLowerCase() === city.toLowerCase()
                );
                
                if (cityFound) {
                    updateWeather(cityFound);
                    document.getElementById('searchResults').style.display = 'none';
                } else {
                    // Jika tidak ditemukan, tampilkan hasil pencarian
                    searchCity();
                }
            }
        }

        // Tambahkan event listener untuk tombol cari
        document.getElementById('searchButton').addEventListener('click', handleSearchButtonClick);
        
        // Tambahkan event listener untuk input pencarian
        document.getElementById('searchInput').addEventListener('input', searchCity);
        
        // Tambahkan event listener untuk pencarian saat menekan Enter
        document.getElementById('searchInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                handleSearchButtonClick();
            }
        });
        
        // Sembunyikan hasil pencarian saat klik di luar
        document.addEventListener('click', function(event) {
            const searchResults = document.getElementById('searchResults');
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            
            if (event.target !== searchInput && event.target !== searchButton && !searchResults.contains(event.target)) {
                searchResults.style.display = 'none';
            }
        });

        // Format tanggal dalam Bahasa Indonesia
        function formatDate(date) {
            const options = { day: 'numeric', month: 'long' };
            return date.toLocaleDateString('id-ID', options);
        }

        // Update data cuaca berdasarkan kota yang dipilih
        function updateWeather(city) {
            // Update nama kota
            document.getElementById('cityName').textContent = city;
            
            // Generate data cuaca acak untuk simulasi
            const weatherTypeIndex = Math.floor(Math.random() * weatherData.icons.length);
            const icon = weatherData.icons[weatherTypeIndex];
            const description = weatherData.descriptions[weatherTypeIndex];
            
            // Tentukan rentang suhu berdasarkan iklim umum Indonesia
            let tempRange;
            
            // Menentukan rentang suhu berdasarkan kota
            // Kota-kota di dataran tinggi biasanya lebih dingin
            const coolerCities = ["Bandung", "Malang", "Tomohon", "Bukittinggi", "Salatiga", "Batu", "Yogyakarta"];
            // Kota-kota di pantai atau dataran rendah biasanya lebih panas
            const hotterCities = ["Jakarta", "Surabaya", "Makassar", "Medan", "Palembang", "Semarang", "Denpasar"];
            
            if (coolerCities.includes(city)) {
                tempRange = weatherData.tempRanges.cool;
            } else if (hotterCities.includes(city)) {
                tempRange = weatherData.tempRanges.hot;
            } else {
                tempRange = weatherData.tempRanges.warm;
            }
            
            // Generate suhu acak dalam rentang
            const temp = Math.floor(Math.random() * (tempRange.max - tempRange.min + 1)) + tempRange.min;
            
            // Update tampilan cuaca saat ini
            document.getElementById('currentIcon').textContent = icon;
            document.getElementById('currentTemp').textContent = `${temp}¬∞C`;
            document.getElementById('currentDesc').textContent = description;
            document.getElementById('humidity').textContent = `${Math.floor(Math.random() * 40) + 50}%`;
            document.getElementById('wind').textContent = `${Math.floor(Math.random() * 15) + 2} km/jam`;
            document.getElementById('pressure').textContent = `${Math.floor(Math.random() * 20) + 1000} hPa`;
            document.getElementById('uvIndex').textContent = `${Math.floor(Math.random() * 7) + 3}/10`;
            
            // Update perkiraan cuaca
            updateForecast(city);
            
            // Update waktu pembaruan
            const now = new Date();
            const options = { 
                day: 'numeric', 
                month: 'long', 
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            document.getElementById('lastUpdated').textContent = `Terakhir diperbarui: ${now.toLocaleDateString('id-ID', options)} WIB`;
        }

        // Update perkiraan cuaca 7 hari ke depan
        function updateForecast(city) {
            const forecastContainer = document.getElementById('forecastContainer');
            forecastContainer.innerHTML = '';
            
            // Hari dalam bahasa Indonesia
            const days = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
            const today = new Date();
            
            // Menentukan rentang suhu berdasarkan kota
            const coolerCities = ["Bandung", "Malang", "Tomohon", "Bukittinggi", "Salatiga", "Batu", "Yogyakarta"];
            const hotterCities = ["Jakarta", "Surabaya", "Makassar", "Medan", "Palembang", "Semarang", "Denpasar"];
            
            let tempRange;
            if (coolerCities.includes(city)) {
                tempRange = weatherData.tempRanges.cool;
            } else if (hotterCities.includes(city)) {
                tempRange = weatherData.tempRanges.hot;
            } else {
                tempRange = weatherData.tempRanges.warm;
            }
            
            // Buat perkiraan untuk 7 hari
            for (let i = 0; i < 7; i++) {
                const forecastDate = new Date(today);
                forecastDate.setDate(today.getDate() + i);
                
                const dayIndex = forecastDate.getDay();
                const dayName = days[dayIndex];
                const dateStr = formatDate(forecastDate);
                
                // Acak data cuaca
                const weatherType = Math.floor(Math.random() * weatherData.icons.length);
                const icon = weatherData.icons[weatherType];
                const description = weatherData.descriptions[weatherType];
                
                // Generate suhu acak
                const highTemp = Math.floor(Math.random() * (tempRange.max - tempRange.min + 1)) + tempRange.min;
                const lowTemp = highTemp - (Math.floor(Math.random() * 5) + 3); // Selisih 3-8 derajat
                
                // Buat elemen perkiraan
                const dayElement = document.createElement('div');
                dayElement.className = 'forecast-day';
                dayElement.innerHTML = `
                    <div class="day-name">${dayName}</div>
                    <div class="day-date">${dateStr}</div>
                    <div class="day-icon">${icon}</div>
                    <div class="day-temp">${highTemp}¬∞C / ${lowTemp}¬∞C</div>
                    <div class="day-desc">${description}</div>
                `;
                
                forecastContainer.appendChild(dayElement);
            }
        }

        // Inisialisasi dengan cuaca Jakarta
        document.addEventListener('DOMContentLoaded', function() {
            updateWeather('Jakarta');
        });
    </script>
</body>
</html>
